<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>IntegradorFrontend</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <script language="Javascript"></script>
  <script>
    function fazPost(url, body) {
      console.log("Body=", body)
      let request = new XMLHttpRequest()
      request.open("POST", url, true)
      request.setRequestHeader("Content-type", "application/json")
      request.send(JSON.stringify(body))
      request.onload = function () {
        console.log(this.responseText)
      }
      return request.responseText
    }

    function cadastraUsuario() {
      event.preventDefault()
      let url = "https://localhost:5001/usuario"
      let cpf = document.getElementById("cpf").value
      let email = document.getElementById("email").value
      let telefone = document.getElementById("telefone").value
      let senha = document.getElementById("senha").value
      console.log(cpf)
      console.log(email)
      console.log(telefone)
      console.log(senha)

      body = {
        "cpf": cpf,
        "email": email,
        "telefone": telefone,
        "senha": senha,
      }

      fazPost(url, body)
    }
    function puxaUsuario() {
      event.preventDefault()
      let url = "https://api.autentique.com.br/v2/graphql"
      let token = "Bearer 3011dbb1511123d9dda14e222326804b9401196a72b2b3d3ce4375910bad019e"
      autentique.token = token

      attributes = {
        document: {
          name: 'NOME DO DOCUMENTO'
        },
        signers: [
          {
            email: 'ewertoncarvalho37@gmail.com',
            action: 'SIGN',
            positions: [
              {
                x: '50', // Posição do Eixo X da ASSINATURA (0 a 100) 
                y: '80', // Posição do Eixo Y da ASSINATURA (0 a 100)
                z: '1'   // Página da ASSINATURA
              },
              {
                x: '50', // Posição do Eixo X da ASSINATURA (0 a 100)
                y: '50', // Posição do Eixo Y da ASSINATURA (0 a 100)
                z: '2'   // Página da ASSINATURA
              }
            ]
          },
          {
            email: 'andreilucasa2@gmail.com',
            action: 'SIGN'
          },
          {
            name: 'Andrei Lucas',
            action: 'SIGN'
          }
        ],
        file: 'C:/Users/andre/Downloads/Certificado de Participação - Webinar Mentorama Andrei Lucas Leal Ferreira.pdf'
      };

      autentique.document.create(attributes);

      fazPost(url, body)
    }
  </script>

</head>

<body class="bg mat-typography">
  <app-root></app-root>
</body>

</html>